import type { PermissionNode } from './types';

export const permissions: PermissionNode[] = [
  // EssentialsX - Player level
  {
    id: 'ess-help',
    pluginId: 'essentialsx',
    node: 'essentials.help',
    description: 'Access /help command',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-home',
    pluginId: 'essentialsx',
    node: 'essentials.home',
    description: 'Teleport to set home',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-sethome',
    pluginId: 'essentialsx',
    node: 'essentials.sethome',
    description: 'Set a home location',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tpa',
    pluginId: 'essentialsx',
    node: 'essentials.tpa',
    description: 'Request teleport to player',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tpaccept',
    pluginId: 'essentialsx',
    node: 'essentials.tpaccept',
    description: 'Accept teleport requests',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tpdeny',
    pluginId: 'essentialsx',
    node: 'essentials.tpdeny',
    description: 'Deny teleport requests',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-msg',
    pluginId: 'essentialsx',
    node: 'essentials.msg',
    description: 'Send private messages',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-reply',
    pluginId: 'essentialsx',
    node: 'essentials.reply',
    description: 'Reply to private messages',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-mail',
    pluginId: 'essentialsx',
    node: 'essentials.mail',
    description: 'Access mail system',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-mail-send',
    pluginId: 'essentialsx',
    node: 'essentials.mail.send',
    description: 'Send mail to players',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-balance',
    pluginId: 'essentialsx',
    node: 'essentials.balance',
    description: 'Check your balance',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-pay',
    pluginId: 'essentialsx',
    node: 'essentials.pay',
    description: 'Pay other players',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-balancetop',
    pluginId: 'essentialsx',
    node: 'essentials.balancetop',
    description: 'View richest players',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-list',
    pluginId: 'essentialsx',
    node: 'essentials.list',
    description: 'List online players',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-motd',
    pluginId: 'essentialsx',
    node: 'essentials.motd',
    description: 'View message of the day',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-rules',
    pluginId: 'essentialsx',
    node: 'essentials.rules',
    description: 'View server rules',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-spawn',
    pluginId: 'essentialsx',
    node: 'essentials.spawn',
    description: 'Teleport to spawn',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },

  // EssentialsX - VIP level
  {
    id: 'ess-back',
    pluginId: 'essentialsx',
    node: 'essentials.back',
    description: 'Return to previous location',
    recommendedRank: 'vip',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-back-ondeath',
    pluginId: 'essentialsx',
    node: 'essentials.back.ondeath',
    description: 'Return to death location',
    recommendedRank: 'vip',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-sethome-multiple-vip',
    pluginId: 'essentialsx',
    node: 'essentials.sethome.multiple.vip',
    description: 'Set multiple homes (VIP limit)',
    recommendedRank: 'vip',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-nick',
    pluginId: 'essentialsx',
    node: 'essentials.nick',
    description: 'Set a nickname',
    recommendedRank: 'vip',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-nick-color',
    pluginId: 'essentialsx',
    node: 'essentials.nick.color',
    description: 'Use colors in nickname',
    recommendedRank: 'vip',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-workbench',
    pluginId: 'essentialsx',
    node: 'essentials.workbench',
    description: 'Open portable crafting table',
    recommendedRank: 'vip',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-enderchest',
    pluginId: 'essentialsx',
    node: 'essentials.enderchest',
    description: 'Open portable ender chest',
    recommendedRank: 'vip',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },

  // EssentialsX - Helper level
  {
    id: 'ess-mute',
    pluginId: 'essentialsx',
    node: 'essentials.mute',
    description: 'Mute players',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tempmute',
    pluginId: 'essentialsx',
    node: 'essentials.tempmute',
    description: 'Temporarily mute players',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-kick',
    pluginId: 'essentialsx',
    node: 'essentials.kick',
    description: 'Kick players from server',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-invsee',
    pluginId: 'essentialsx',
    node: 'essentials.invsee',
    description: 'View player inventories',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tp',
    pluginId: 'essentialsx',
    node: 'essentials.tp',
    description: 'Teleport to players',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tphere',
    pluginId: 'essentialsx',
    node: 'essentials.tphere',
    description: 'Teleport players to you',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tpo',
    pluginId: 'essentialsx',
    node: 'essentials.tpo',
    description: 'Teleport override (bypass tp toggle)',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tpohere',
    pluginId: 'essentialsx',
    node: 'essentials.tpohere',
    description: 'Teleport here override',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-vanish',
    pluginId: 'essentialsx',
    node: 'essentials.vanish',
    description: 'Become invisible to players',
    recommendedRank: 'helper',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },

  // EssentialsX - Mod level
  {
    id: 'ess-ban',
    pluginId: 'essentialsx',
    node: 'essentials.ban',
    description: 'Ban players permanently',
    recommendedRank: 'mod',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-tempban',
    pluginId: 'essentialsx',
    node: 'essentials.tempban',
    description: 'Temporarily ban players',
    recommendedRank: 'mod',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-unban',
    pluginId: 'essentialsx',
    node: 'essentials.unban',
    description: 'Unban players',
    recommendedRank: 'mod',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-jail',
    pluginId: 'essentialsx',
    node: 'essentials.jail',
    description: 'Jail players',
    recommendedRank: 'mod',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-god',
    pluginId: 'essentialsx',
    node: 'essentials.god',
    description: 'Enable god mode',
    recommendedRank: 'mod',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-fly',
    pluginId: 'essentialsx',
    node: 'essentials.fly',
    description: 'Enable flight',
    recommendedRank: 'mod',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-speed',
    pluginId: 'essentialsx',
    node: 'essentials.speed',
    description: 'Change movement speed',
    recommendedRank: 'mod',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-heal',
    pluginId: 'essentialsx',
    node: 'essentials.heal',
    description: 'Heal yourself or others',
    recommendedRank: 'mod',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-feed',
    pluginId: 'essentialsx',
    node: 'essentials.feed',
    description: 'Fill hunger bar',
    recommendedRank: 'mod',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },

  // EssentialsX - Admin level
  {
    id: 'ess-gamemode',
    pluginId: 'essentialsx',
    node: 'essentials.gamemode',
    description: 'Change your game mode',
    recommendedRank: 'admin',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-gamemode-others',
    pluginId: 'essentialsx',
    node: 'essentials.gamemode.others',
    description: 'Change others game mode',
    recommendedRank: 'admin',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-give',
    pluginId: 'essentialsx',
    node: 'essentials.give',
    description: 'Give items to players',
    recommendedRank: 'admin',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-item',
    pluginId: 'essentialsx',
    node: 'essentials.item',
    description: 'Spawn items for yourself',
    recommendedRank: 'admin',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-time',
    pluginId: 'essentialsx',
    node: 'essentials.time',
    description: 'View world time',
    recommendedRank: 'admin',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-time-set',
    pluginId: 'essentialsx',
    node: 'essentials.time.set',
    description: 'Set world time',
    recommendedRank: 'admin',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-weather',
    pluginId: 'essentialsx',
    node: 'essentials.weather',
    description: 'Change weather',
    recommendedRank: 'admin',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-broadcast',
    pluginId: 'essentialsx',
    node: 'essentials.broadcast',
    description: 'Send server-wide broadcasts',
    recommendedRank: 'admin',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'ess-sudo',
    pluginId: 'essentialsx',
    node: 'essentials.sudo',
    description: 'Force players to run commands',
    recommendedRank: 'admin',
    riskLevel: 'critical',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },

  // CoreProtect
  {
    id: 'cp-inspect',
    pluginId: 'coreprotect',
    node: 'coreprotect.inspect',
    description: 'Inspect block changes',
    recommendedRank: 'helper',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'cp-lookup',
    pluginId: 'coreprotect',
    node: 'coreprotect.lookup',
    description: 'Lookup block history',
    recommendedRank: 'helper',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'cp-rollback',
    pluginId: 'coreprotect',
    node: 'coreprotect.rollback',
    description: 'Rollback block changes',
    recommendedRank: 'mod',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },
  {
    id: 'cp-restore',
    pluginId: 'coreprotect',
    node: 'coreprotect.restore',
    description: 'Restore rolled back changes',
    recommendedRank: 'mod',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },

  // WorldGuard
  {
    id: 'wg-region-bypass',
    pluginId: 'worldguard',
    node: 'worldguard.region.bypass.*',
    description: 'Bypass region protections',
    recommendedRank: 'mod',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'creative', 'custom'],
    isDefault: true,
  },

  // WorldEdit
  {
    id: 'we-all',
    pluginId: 'worldedit',
    node: 'worldedit.*',
    description: 'All WorldEdit commands',
    recommendedRank: 'admin',
    riskLevel: 'critical',
    serverTypes: ['survival', 'creative', 'custom'],
    isDefault: true,
  },

  // Multiverse
  {
    id: 'mv-all',
    pluginId: 'multiverse',
    node: 'multiverse.core.*',
    description: 'All Multiverse commands',
    recommendedRank: 'admin',
    riskLevel: 'dangerous',
    serverTypes: ['survival', 'factions', 'skyblock', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },

  // LuckPerms
  {
    id: 'lp-user',
    pluginId: 'luckperms',
    node: 'luckperms.user.*',
    description: 'Manage user permissions',
    recommendedRank: 'admin',
    riskLevel: 'critical',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },

  // Owner - wildcard
  {
    id: 'wildcard',
    pluginId: 'luckperms',
    node: '*',
    description: 'All permissions (full server access)',
    recommendedRank: 'owner',
    riskLevel: 'critical',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'minigames', 'creative', 'custom'],
    isDefault: true,
  },

  // mcMMO
  {
    id: 'mcmmo-ability',
    pluginId: 'mcmmo',
    node: 'mcmmo.ability.*',
    description: 'Use all mcMMO abilities',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'custom'],
    isDefault: true,
  },
  {
    id: 'mcmmo-commands-defaults',
    pluginId: 'mcmmo',
    node: 'mcmmo.commands.defaults',
    description: 'Basic mcMMO commands',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'factions', 'custom'],
    isDefault: true,
  },

  // Jobs Reborn
  {
    id: 'jobs-join',
    pluginId: 'jobs',
    node: 'jobs.command.join',
    description: 'Join jobs',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'jobs-leave',
    pluginId: 'jobs',
    node: 'jobs.command.leave',
    description: 'Leave jobs',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'skyblock', 'custom'],
    isDefault: true,
  },
  {
    id: 'jobs-info',
    pluginId: 'jobs',
    node: 'jobs.command.info',
    description: 'View job info',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'skyblock', 'custom'],
    isDefault: true,
  },

  // ShopGUI+
  {
    id: 'shopgui-shop',
    pluginId: 'shopgui',
    node: 'shopguiplus.shop',
    description: 'Access the shop',
    recommendedRank: 'player',
    riskLevel: 'safe',
    serverTypes: ['survival', 'skyblock', 'prison', 'custom'],
    isDefault: true,
  },

  // Vault (usually just API, but some commands)
  {
    id: 'vault-admin',
    pluginId: 'vault',
    node: 'vault.admin',
    description: 'Vault admin commands',
    recommendedRank: 'admin',
    riskLevel: 'moderate',
    serverTypes: ['survival', 'factions', 'skyblock', 'prison', 'custom'],
    isDefault: true,
  },
];

export const getPermissionsByPlugin = (pluginId: string): PermissionNode[] => {
  return permissions.filter(p => p.pluginId === pluginId);
};

export const getPermissionsByRank = (rank: string): PermissionNode[] => {
  return permissions.filter(p => p.recommendedRank === rank);
};

export const getDefaultPermissionsForRank = (
  rank: string,
  serverType: string,
  selectedPlugins: string[]
): PermissionNode[] => {
  const rankOrder = ['player', 'vip', 'helper', 'mod', 'admin', 'owner'];
  const rankIndex = rankOrder.indexOf(rank);

  return permissions.filter(p => {
    const permRankIndex = rankOrder.indexOf(p.recommendedRank);
    return (
      p.isDefault &&
      permRankIndex <= rankIndex &&
      selectedPlugins.includes(p.pluginId) &&
      p.serverTypes.includes(serverType as any)
    );
  });
};
